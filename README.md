# AGS Script Tree Sitter Parser C#

[![Build Status](https://dev.azure.com/ericoporto/ags-cs-tree-sitter/_apis/build/status/ericoporto.ags-cs-tree-sitter?branchName=master)](https://dev.azure.com/ericoporto/ags-cs-tree-sitter/_build/latest?definitionId=15&branchName=master)

This is an experimental project. The general idea is to reuse the AGS Script Tree
Sitter parser generated by Edmundito, add C# bindings using SWIG and build it
for multiplatform (Windows/MacOS/Linux) using CMake.

This project is largely inspired by the [python java tree sitter parser here](https://github.com/ericoporto/python-tree-sitter). The cmake parts are made with code from the [tree-sitter-cmake project here](https://github.com/Symbitic/tree-sitter-cmake), but code has been heavily updated to work with latest tree-sitter.

## How to build

You need to have swig installed (by apt, choco or brew).

Generated the swig files by running the bash script in this folder.

With the swig files generated, build the libraries twice once static and later shared. Place the generated `.so`/`.dll`/`.dylib` files in their respective directories under `generated/`

## Useful references

The readings below provide useful information.

- https://log.paulbetts.org/the-bait-and-switch-pcl-trick/
- https://github.com/xamcat/mobcat-samples/tree/master/cpp_with_xamarin
- https://github.blog/2016-02-01-working-with-submodules/
- http://www.swig.org/Doc3.0/SWIG.html#output
- http://www.swig.org/Doc3.0/CSharp.html
- https://tree-sitter.github.io/tree-sitter/using-parsers

